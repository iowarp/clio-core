# Content Transfer Engine (CTE) Configuration File
# Docker deployment configuration for single-node setup
compose:
  # Target management settings
  targets:
    neighborhood: 1  # Single-node configuration
    default_target_timeout_ms: 30000
    poll_period_ms: 5000  # Period to rescan targets for statistics (capacity, bandwidth, etc.)

  # Storage block device configuration
  # For Docker deployment, we use simple file-based storage
  storage:
    # Primary storage device
    - path: "/mnt/cte_storage/storage1.bin"
      bdev_type: "file"
      capacity_limit: "1GB"
      score: 0.9           # Manual score override (0.0-1.0) - highest tier

    # RAM-based cache storage (use ram:: prefix)
    - path: "ram::cte_cache"
      bdev_type: "ram"
      capacity_limit: "512MB"
      score: 1.0           # Manual score override - fastest tier

    # Secondary storage device
    - path: "/mnt/cte_storage/storage2.bin"
      bdev_type: "file"
      capacity_limit: "1GB"
      score: 0.7           # Manual score override - medium tier

  # Data Placement Engine configuration
  dpe:
    dpe_type: "max_bw"  # Options: "random", "round_robin", "max_bw"

  # Compression and prediction model configuration
  compression:
    monitor_interval_ms: 5                    # Interval for collecting target capacities and stats
    qtable_model_path: ""                     # Path to Q-table model directory (contains qtable.json, binning_params.json)
    qtable_learning_rate: 0.3                 # Learning rate for Q-table online reinforcement learning (default: 0.3)
    dnn_model_weights_path: ""                # Path to DNN model weights JSON file (fallback, empty = disabled)
    dnn_samples_before_reinforce: 1000        # Number of samples before reinforcing DNN model
    trace_folder_path: ""                     # Path to folder for CTE trace logs (empty = disabled)

  # Note: This configuration is suitable for Docker single-node deployment
  # For multi-node or production deployments, adjust:
  # - neighborhood: increase for distributed buffering
  # - storage: add more devices or increase capacity limits
  # - paths: ensure storage paths are accessible from all nodes
